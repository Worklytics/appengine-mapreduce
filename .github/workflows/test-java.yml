# test java version of library
name: Test Java

on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - name: Set up JDK 1.8
        uses: actions/setup-java@v1
        with:
          java-version: 1.8
      # init maven settings such maven can consume packages from GitHub, not just maven central
      - uses: s4u/maven-settings-action@v1.1
        with:
          overide: true
          servers: '[{"id": "github", "username": "OWNER", "password": "${{secrets.GITHUB_TOKEN}}"}]'
      # do actual build + test run
      - name: Build with Maven
        run: |
          cd java/
          mvn test
